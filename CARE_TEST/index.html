<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=500" />
  <meta name="keywords" content="ScrollMagic, example, scrolling, attaching, scrollbar, horizontal, landscape" />
  <title>Parallax Test</title>

  <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,400italic|Josefin+Slab:400,700italic' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="../css/reset.css" type="text/css">
  <link rel="stylesheet" href="../css/modal.css" type="text/css">
  <link rel="stylesheet" href="../css/normalize.css" type="text/css">
  <link rel="stylesheet" href="../css/style.css" type="text/css">
  <link rel="stylesheet" href="../css/parallax.css" type="text/css">
  <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon">

  <script type="text/javascript" src="../js/lib/jquery.min.js"></script>
  <script type="text/javascript" src="../js/lib/highlight.pack.js"></script>
  <script type="text/javascript" src="../js/lib/modernizr.custom.min.js"></script>
  <script type="text/javascript" src="../js/examples.js"></script>
  <script type="text/javascript" src="../js/lib/velocity.min.js"></script>
  <script type="text/javascript" src="../js/jquery.mousewheel.min.js"></script>

  <script type="text/javascript" src="../js/lib/greensock/TweenMax.min.js"></script>
  <script type="text/javascript" src="../scrollmagic/uncompressed/ScrollMagic.js"></script>
  <script type="text/javascript" src="../scrollmagic/uncompressed/plugins/animation.gsap.js"></script>
  <script type="text/javascript" src="../scrollmagic/uncompressed/plugins/animation.velocity.js"></script>
  <script type="text/javascript" src="../scrollmagic/uncompressed/plugins/debug.addIndicators.js"></script>

</head>


<body>
  <div id="content-wrapper">
    <div id="example-wrapper" class="horizontal">
      <div id="parallaxContainer">
      <div class="scrollContent">


        <div class="layer1">
        <section id="titlechart">
          <div id="description">
            <h1 class="badge beta">The Mayi</h1>
            <h2>Scroll to move to the right and explore our stories.</h2>
            <p>
              Learn about CARE's work in Malawi, and how they're empowering communities to work together to improve maternal healthcare.
            </p>
          </div>
        </section>
        <section class="demo">



        </div> <!-- LAYER 1 END -->


        <div class="layer2">
          <div class="spacer s03"></div>
          <img src="../img/ParallaxTesting/panorama_demo_tallTree.png" id="tree1"/>
          <img src="../img/ParallaxTesting/panorama_demo_wideTree.png" id="tree2"/>
        </div> <!-- END LAYER 2 -->

        <div class="layer3">
          <iframe src="https://player.vimeo.com/video/122941824?color=ff3c00&portrait=0&badge=0" width="700" height="393" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen id="intro"></iframe>
          <div class="spacer s8"></div>
          <div id="titleFade" class="spacer s0"></div>
          <a id="subject1" href="#" onclick="pipe1();"></a>
          <div class="spacer s2"></div>
          <div id="trigger" class="spacer s0"></div>
          <div id="trigger2" class="spacer s0"></div>

        <section class="cd-section">
          <a href="#" id="story1" data-type="modal-trigger" class="box2 black btn">
            <h4>Story 1</h4>
          </a>

          <span class="cd-modal-bg"></span>


          <div class="cd-modal">
            <div class="cd-modal-content">
              <iframe src="https://player.vimeo.com/video/118394841?color=e4782e&portrait=0&badge=0" width="500" height="281" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>
              <p> &#60;3 &#60;3 ERIN MCGATHY &#60;3 &#60;3 </p>

            </div> <!-- cd-modal-content -->
          </div> <!-- cd-modal -->

          <a href="#" class="cd-modal-close">Close</a>
        </section>

          <div class="spacer s2"></div>

          <a id="subject2" href="#" onclick="pipe2();"></a>
          <div class="spacer s2"></div>
          <div id="trigger3" class="spacer s0"></div>
          <div id="trigger4" class="spacer s0"></div>

        <section class="cd-section">
          <a href="#" id="story2" data-type="modal-trigger" class="box2 black btn">
            <h4>Story 2</h4>
          </a>

          <span class="cd-modal-bg"></span>


          <div class="cd-modal">
            <div class="cd-modal-content">
              <p>Second article would go here. </p>

            </div> <!-- cd-modal-content -->
          </div> <!-- cd-modal -->

          <a href="#" class="cd-modal-close">Close</a>
        </section>

          <a id="subject3" href="#" onclick="pipe3();"></a>
          <div class="spacer s2"></div>
          <div id="trigger5" class="spacer s0"></div>
          <div id="trigger6" class="spacer s0"></div>

          <section class="cd-section">
            <a href="#" id="story3" data-type="modal-trigger" class="box2 black btn">
              <h4>Story 3</h4>
            </a>

            <span class="cd-modal-bg"></span>


            <div class="cd-modal">
              <div class="cd-modal-content">
                <p>Third article would go here. </p>

              </div> <!-- cd-modal-content -->
            </div> <!-- cd-modal -->

            <a href="#" class="cd-modal-close">Close</a>
          </section>

          <a id="subject4" href="#" onclick="pipe4();"></a>
          <div class="spacer s2"></div>
          <div id="trigger7" class="spacer s0"></div>
          <div id="trigger8" class="spacer s0"></div>

          <section class="cd-section">
            <a href="#" id="story4" data-type="modal-trigger" class="box2 black btn">
              <h4>Story 4</h4>
            </a>

            <span class="cd-modal-bg"></span>


            <div class="cd-modal">
              <div class="cd-modal-content">
                <p>Fourth article would go here. </p>

              </div> <!-- cd-modal-content -->
            </div> <!-- cd-modal -->

            <a href="#" class="cd-modal-close">Close</a>
          </section>



        </div> <!-- END LAYER 3 -->



          <script>
            // init controller
            var controller = new ScrollMagic.Controller({vertical: false});

            // build tween
            var tween = TweenMax.to("#story1", 0.5, {backgroundColor: "#e4782e" , width: "+=50"});

            // build scene
            var scene = new ScrollMagic.Scene({triggerElement: "#trigger", duration: 250})
                    .setTween(tween)

                  //  .addIndicators() // add indicators (requires plugin)
                    .addTo(controller);


            // build tween
            var tween = TweenMax.to("#story1", 0.5, {backgroundColor: "#231d1f" , width: "-=50"});

            // build scene
            var scene = new ScrollMagic.Scene({triggerElement: "#trigger2", duration: 250, offset: 400})
                    .setTween(tween)
                    //.addIndicators() // add indicators (requires plugin)
                    .addTo(controller);
           // BEGIN SECOND STORY TARGET

            // build tween
            var tween = TweenMax.to("#story2", 0.5, {backgroundColor: "#e4782e" , width: "+=50"});

            // build scene
            var scene = new ScrollMagic.Scene({triggerElement: "#trigger3", duration: 250})
                    .setTween(tween)

                  //  .addIndicators() // add indicators (requires plugin)
                    .addTo(controller);


            // build tween
            var tween = TweenMax.to("#story2", 0.5, {backgroundColor: "#231d1f" , width: "-=50"});

            // build scene
            var scene = new ScrollMagic.Scene({triggerElement: "#trigger4", duration: 250, offset: 400})
                    .setTween(tween)
                    //.addIndicators() // add indicators (requires plugin)
                    .addTo(controller);
           // BEGIN THIRD STORY TARGET

            // build tween
            var tween = TweenMax.to("#story3", 0.5, {backgroundColor: "#e4782e" , width: "+=50"});

            // build scene
            var scene = new ScrollMagic.Scene({triggerElement: "#trigger5", duration: 250})
                    .setTween(tween)

                  //  .addIndicators() // add indicators (requires plugin)
                    .addTo(controller);


            // build tween
            var tween = TweenMax.to("#story3", 0.5, {backgroundColor: "#231d1f" , width: "-=50"});

            // build scene
            var scene = new ScrollMagic.Scene({triggerElement: "#trigger6", duration: 250, offset: 400})
                    .setTween(tween)
                    //.addIndicators() // add indicators (requires plugin)
                    .addTo(controller);
           // BEGIN FOURTH STORY TARGET

            // build tween
            var tween = TweenMax.to("#story4", 0.5, {backgroundColor: "#e4782e" , width: "+=50"});

            // build scene
            var scene = new ScrollMagic.Scene({triggerElement: "#trigger7", duration: 250})
                    .setTween(tween)

                  //  .addIndicators() // add indicators (requires plugin)
                    .addTo(controller);


            // build tween
            var tween = TweenMax.to("#story4", 0.5, {backgroundColor: "#231d1f" , width: "-=50"});

            // build scene
            var scene = new ScrollMagic.Scene({triggerElement: "#trigger8", duration: 250, offset: 400})
                    .setTween(tween)
                    //.addIndicators() // add indicators (requires plugin)
                    .addTo(controller);

            var scene = new ScrollMagic.Scene({triggerElement: "#titleFade"})
                    // trigger a velocity opaticy animation
                    .setVelocity("#titlechart", {opacity: 0}, {duration: 500})
                    //.addIndicators() // add indicators (requires plugin)
                    .addTo(controller);
          </script>
          <script>
            function pipe1(){
              $('#story1').click();
              console.log('Piped');
            }
            function pipe2(){
              $('#story2').click();
            }
            function pipe3(){
              $('#story3').click();
            }
            function pipe4(){
              $('#story4').click();
            }
          </script>
          <script>
            $(function() {

             $("body").mousewheel(function(event, delta) {

                this.scrollLeft -= (delta * 30);

                event.preventDefault();

             });

            });
          </script>
        </section>
        <!-- <div class="spacer s_viewport"></div> -->
      </div><!-- Scroll Container -->
    </div><!-- Parrallax Container -->
  </div><!-- Example Wrapper -->
</div><!-- Content Wrapper -->
  <script type="text/javascript" src="../js/tracking.js"></script>
  <script type="text/javascript" src="../js/modal.js"></script>
</body>


</html>
